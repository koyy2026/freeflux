<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Generator</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding: 2rem; background-color: #f4f4f9; }
        .config-section, .generator-section { background-color: white; border: 1px solid #ccc; padding: 20px; border-radius: 8px; margin-bottom: 20px; width: 80%; max-width: 600px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1, h2 { text-align: center; color: #333; }
        .input-group { display: flex; flex-direction: column; margin-bottom: 15px; }
        label { margin-bottom: 5px; font-weight: bold; color: #555; }
        input, select, button { padding: 10px; width: 100%; box-sizing: border-box; border-radius: 4px; border: 1px solid #ddd; }
        button { cursor: pointer; background-color: #007bff; color: white; border: none; font-weight: bold; }
        button:disabled { background-color: #ccc; }
        #image-container img { max-width: 100%; margin-top: 20px; border: 1px solid #ddd; border-radius: 4px; }
        #loading { font-style: italic; color: #888; text-align: center; }
    </style>
</head>
<body>
    <h1>AI Image Generator</h1>

    <!-- API 配置區 -->
    <div class="config-section">
        <h2>API Configuration</h2>
        <div class="input-group">
            <label for="api-key-input">API Key</label>
            <input type="password" id="api-key-input" placeholder="Enter your API Key">
        </div>
        <div class="input-group">
            <label for="base-url-input">Base URL</label>
            <input type="text" id="base-url-input" value="https://api.navy/v1" placeholder="Enter the API Base URL">
        </div>
    </div>

    <!-- 生成器區域 -->
    <div class="generator-section">
        <h2>Generator</h2>
        <div class="input-group">
            <label for="model-select">Model</label>
            <select id="model-select">
                <option value="flux.1-schnell">flux.1-schnell</option>
                <option value="flux.1-dev">flux.1-dev</option>
                <option value="flux.1-krea-dev">flux.1-krea-dev</option>
                <option value="flux.1.1-pro">flux.1.1-pro</option>
                <option value="flux.1-kontext-pro">flux.1-kontext-pro</option>
            </select>
        </div>
        <!-- 比例選擇下拉選單 -->
        <div class="input-group">
            <label for="size-select">Aspect Ratio</label>
            <select id="size-select">
                <option value="1024x1024">Square (1:1)</option>
                <option value="1792x1024">Landscape (16:9)</option>
                <option value="1024x1792">Portrait (9:16)</option>
            </select>
        </div>
        <div class="input-group">
            <label for="prompt-input">Prompt</label>
            <input type="text" id="prompt-input" placeholder="Enter a prompt...">
        </div>
        <button id="generate-btn">Generate</button>
        <div id="loading" style="display:none;">Generating, please wait...</div>
        <div id="image-container"></div>
    </div>

    <script>
        // ... (其他元素獲取)
        const sizeSelect = document.getElementById('size-select'); // 獲取比例選擇元素

        generateBtn.addEventListener('click', async () => {
            // ... (獲取其他參數)
            const size = sizeSelect.value; // 獲取選擇的尺寸

            // ... (其他驗證)

            try {
                const response = await fetch('/api/generate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        // ... (其他參數)
                        size: size // 在 body 中加入 size
                    })
                });
                // ... (後續處理)
            } catch (error) {
                // ... (錯誤處理)
            } finally {
                // ... (結束處理)
            }
        });
    </script>
</body>
</html>
